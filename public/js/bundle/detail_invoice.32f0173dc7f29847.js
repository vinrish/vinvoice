"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[180],{1332:(t,s,i)=>{i.r(s),i.d(s,{default:()=>o});var e=i(95353),n=i(5947),a=i.n(n);const r={computed:(0,e.L8)(["currentUserPermissions","currentUser"]),metaInfo:{title:"Detail Purchase"},data:function(){return{isLoading:!1,invoice:{},details:[],company:{},email:{to:"",subject:"",message:"",supplier_name:"",Purchase_Ref:""}}},methods:{Print_Purchase_PDF:function(){var t=this;a().start(),a().set(.1);var s=this.$route.params.id;axios.get("invoice_pdf/".concat(s),{responseType:"blob",headers:{"Content-Type":"application/json"}}).then((function(s){var i=window.URL.createObjectURL(new Blob([s.data])),e=document.createElement("a");e.href=i,e.setAttribute("download","invoice_"+t.invoice.ref+".pdf"),document.body.appendChild(e),e.click(),setTimeout((function(){return a().done()}),500)})).catch((function(){setTimeout((function(){return a().done()}),500)}))},print:function(){this.$htmlToPaper("print_Invoice")},formatNumber:function(t,s){var i=("string"==typeof t?t:t.toString()).split(".");if(s<=0)return i[0];var e=i[1]||"";if(e.length>s)return"".concat(i[0],".").concat(e.substr(0,s));for(;e.length<s;)e+="0";return"".concat(i[0],".").concat(e)},Get_Details:function(){var t=this,s=this.$route.params.id;axios.get("invoices/".concat(s)).then((function(s){t.invoice=s.data.invoice,t.details=s.data.details,t.company=s.data.company,t.isLoading=!1})).catch((function(s){setTimeout((function(){t.isLoading=!1}),500)}))},Send_Email:function(){var t=this;a().start(),a().set(.1);var s=this.$route.params.id;axios.post("purchase_send_email",{id:s}).then((function(s){setTimeout((function(){return a().done()}),500),t.makeToast("success",t.$t("Send.TitleEmail"),t.$t("Success"))})).catch((function(s){setTimeout((function(){return a().done()}),500),t.makeToast("danger",t.$t("SMTPIncorrect"),t.$t("Failed"))}))},makeToast:function(t,s,i){this.$root.$bvToast.toast(s,{title:i,variant:t,solid:!0})}},created:function(){this.Get_Details()}};const o=(0,i(14486).A)(r,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"main-content"},[s("breadcumb",{attrs:{page:t.$t("PurchaseDetail"),folder:t.$t("ListPurchases")}}),t._v(" "),t.isLoading?s("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():s("b-card",[s("b-row",[s("b-col",{staticClass:"mb-2",attrs:{md:"12"}},[t.currentUserPermissions&&t.currentUserPermissions.includes("invoice_edit")?s("router-link",{staticClass:"btn btn-success btn-icon ripple btn-sm",attrs:{title:"Edit",to:{name:"edit_purchase",params:{id:t.$route.params.id}}}},[s("i",{staticClass:"i-Edit"}),t._v(" "),s("span",[t._v(t._s(t.$t("EditPurchase")))])]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-info btn-icon ripple btn-sm",on:{click:function(s){return t.Send_Email()}}},[s("i",{staticClass:"i-Envelope-2"}),t._v("\n                        "+t._s(t.$t("Email"))+"\n                    ")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-icon ripple btn-sm",on:{click:function(s){return t.Print_Purchase_PDF()}}},[s("i",{staticClass:"i-File-TXT"}),t._v(" PDF\n                    ")]),t._v(" "),s("button",{staticClass:"btn btn-warning btn-icon ripple btn-sm",on:{click:function(s){return t.print()}}},[s("i",{staticClass:"i-Billing"}),t._v("\n                        "+t._s(t.$t("print"))+"\n                    ")]),t._v(" "),t.currentUserPermissions&&t.currentUserPermissions.includes("invoice_delete")?s("button",{staticClass:"btn btn-danger btn-icon ripple btn-sm",on:{click:function(s){return t.Delete_Purchase()}}},[s("i",{staticClass:"i-Close-Window"}),t._v("\n                        "+t._s(t.$t("Del"))+"\n                    ")]):t._e()],1)],1),t._v(" "),s("div",{staticClass:"invoice mt-5",attrs:{id:"print_Invoice"}},[s("div",{staticClass:"invoice-print"},[s("b-row",{staticClass:"justify-content-md-center"},[s("h4",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("PurchaseDetail"))+" : "+t._s(t.invoice.ref))])]),t._v(" "),s("hr"),t._v(" "),s("b-row",{staticClass:"mt-5"},[s("b-col",{staticClass:"mb-4",attrs:{lg:"4",md:"4",sm:"12"}},[s("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Supplier_Info")))]),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Name")))]),t._v(" : "+t._s(t.invoice.supplier_name))]),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Email")))]),t._v(" : "+t._s(t.invoice.supplier_email))]),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Phone")))]),t._v(" : "+t._s(t.invoice.supplier_phone))]),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Address")))]),t._v(" : "+t._s(t.invoice.supplier_adr))])]),t._v(" "),s("b-col",{staticClass:"mb-4",attrs:{lg:"4",md:"4",sm:"12"}},[s("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Customer_Info")))]),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Name")))]),t._v(" : "+t._s(t.invoice.customer_name))]),t._v(" "),null!==t.invoice.customer_email&&""!==t.invoice.customer_email?s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Email")))]),t._v(" : "+t._s(t.invoice.customer_email))]):t._e(),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Phone")))]),t._v(" : "+t._s(t.invoice.customer_phone))]),t._v(" "),null!==t.invoice.customer_adr&&""!==t.invoice.customer_adr?s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Address")))]),t._v(" : "+t._s(t.invoice.customer_adr))]):t._e()]),t._v(" "),s("b-col",{staticClass:"mb-4",attrs:{lg:"4",md:"4",sm:"12"}},[s("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Purchase_Info")))]),t._v(" "),s("div",[t._v(t._s(t.$t("Reference"))+" : "+t._s(t.invoice.ref))]),t._v(" "),s("div",[t._v(t._s(t.$t("Date"))+" : "+t._s(t.invoice.date))])])],1),t._v(" "),s("b-row",{staticClass:"mt-3"},[s("b-col",{attrs:{md:"12"}},[s("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Order_Summary")))]),t._v(" "),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-hover table-md"},[s("thead",{staticClass:"bg-gray"},[s("tr",[s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("ProductName")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Details")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Unitcost")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Quantity")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("SubTotal")))])])]),t._v(" "),s("tbody",t._l(t.details,(function(i){return s("tr",[s("td",[s("span",[t._v(t._s(i.name))])]),t._v(" "),s("td",[s("span",[t._v(t._s(i.description))])]),t._v(" "),s("td",[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(i.cost,3)))]),t._v(" "),s("td",[t._v(t._s(t.formatNumber(i.quantity,2)))]),t._v(" "),s("td",[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(i.total,2)))])])})),0)])])]),t._v(" "),s("div",{staticClass:"offset-md-9 col-md-3 mt-4"},[s("table",{staticClass:"table table-striped table-sm"},[s("tbody",[s("tr",[s("td",{staticClass:"bold"},[t._v(t._s(t.$t("OrderTax")))]),t._v(" "),s("td",[s("span",[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(t.invoice.TaxNet,2))+" ("+t._s(t.formatNumber(t.invoice.tax_rate,2))+" %)")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Total")))])]),t._v(" "),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.currentUser.currency)+" "+t._s(t.invoice.GrandTotal))])])])])])]),t._v(" "),s("b-col",[s("p",[s("strong",[t._v("Warranty")]),t._v(" : "+t._s(t.invoice.warranty))]),t._v(" "),s("p",[s("strong",[t._v("Expiry")]),t._v(" : "+t._s(t.invoice.warranty_expiry))])])],1)],1)])],1)],1)}),[],!1,null,null,null).exports},48811:(t,s,i)=>{i.r(s),i.d(s,{default:()=>o});var e=i(95353),n=i(5947),a=i.n(n);const r={computed:(0,e.L8)(["currentUserPermissions","currentUser"]),metaInfo:{title:"Detail Purchase"},data:function(){return{isLoading:!1,invoice:{},details:[],company:{},email:{to:"",subject:"",message:"",supplier_name:"",Purchase_Ref:""}}},methods:{Print_Purchase_PDF:function(){var t=this;a().start(),a().set(.1);var s=this.$route.params.id;axios.get("invoice_pdf/".concat(s),{responseType:"blob",headers:{"Content-Type":"application/json"}}).then((function(s){var i=window.URL.createObjectURL(new Blob([s.data])),e=document.createElement("a");e.href=i,e.setAttribute("download","invoice_"+t.invoice.ref+".pdf"),document.body.appendChild(e),e.click(),setTimeout((function(){return a().done()}),500)})).catch((function(){setTimeout((function(){return a().done()}),500)}))},print:function(){this.$htmlToPaper("print_Invoice")},formatNumber:function(t,s){var i=("string"==typeof t?t:t.toString()).split(".");if(s<=0)return i[0];var e=i[1]||"";if(e.length>s)return"".concat(i[0],".").concat(e.substr(0,s));for(;e.length<s;)e+="0";return"".concat(i[0],".").concat(e)},Get_Details:function(){var t=this,s=this.$route.params.id;axios.get("invoices/".concat(s)).then((function(s){t.invoice=s.data.invoice,t.details=s.data.details,t.company=s.data.company,t.isLoading=!1})).catch((function(s){setTimeout((function(){t.isLoading=!1}),500)}))},Send_Email:function(){var t=this;a().start(),a().set(.1);var s=this.$route.params.id;axios.post("purchase_send_email",{id:s}).then((function(s){setTimeout((function(){return a().done()}),500),t.makeToast("success",t.$t("Send.TitleEmail"),t.$t("Success"))})).catch((function(s){setTimeout((function(){return a().done()}),500),t.makeToast("danger",t.$t("SMTPIncorrect"),t.$t("Failed"))}))},makeToast:function(t,s,i){this.$root.$bvToast.toast(s,{title:i,variant:t,solid:!0})}},created:function(){this.Get_Details()}};const o=(0,i(14486).A)(r,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"main-content"},[s("breadcumb",{attrs:{page:t.$t("PurchaseDetail"),folder:t.$t("ListPurchases")}}),t._v(" "),t.isLoading?s("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():s("b-card",[s("b-row",[s("b-col",{staticClass:"mb-2",attrs:{md:"12"}},[t.currentUserPermissions&&t.currentUserPermissions.includes("invoice_edit")?s("router-link",{staticClass:"btn btn-success btn-icon ripple btn-sm",attrs:{title:"Edit",to:{name:"edit_purchase",params:{id:t.$route.params.id}}}},[s("i",{staticClass:"i-Edit"}),t._v(" "),s("span",[t._v(t._s(t.$t("EditPurchase")))])]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-info btn-icon ripple btn-sm",on:{click:function(s){return t.Send_Email()}}},[s("i",{staticClass:"i-Envelope-2"}),t._v("\n                        "+t._s(t.$t("Email"))+"\n                    ")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-icon ripple btn-sm",on:{click:function(s){return t.Print_Purchase_PDF()}}},[s("i",{staticClass:"i-File-TXT"}),t._v(" PDF\n                    ")]),t._v(" "),s("button",{staticClass:"btn btn-warning btn-icon ripple btn-sm",on:{click:function(s){return t.print()}}},[s("i",{staticClass:"i-Billing"}),t._v("\n                        "+t._s(t.$t("print"))+"\n                    ")]),t._v(" "),t.currentUserPermissions&&t.currentUserPermissions.includes("invoice_delete")?s("button",{staticClass:"btn btn-danger btn-icon ripple btn-sm",on:{click:function(s){return t.Delete_Purchase()}}},[s("i",{staticClass:"i-Close-Window"}),t._v("\n                        "+t._s(t.$t("Del"))+"\n                    ")]):t._e()],1)],1),t._v(" "),s("div",{staticClass:"invoice mt-5",attrs:{id:"print_Invoice"}},[s("div",{staticClass:"invoice-print"},[s("b-row",{staticClass:"justify-content-md-center"},[s("h4",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("PurchaseDetail"))+" : "+t._s(t.invoice.ref))])]),t._v(" "),s("hr"),t._v(" "),s("b-row",{staticClass:"mt-5"},[s("b-col",{staticClass:"mb-4",attrs:{lg:"4",md:"4",sm:"12"}},[s("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Supplier_Info")))]),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Name")))]),t._v(" : "+t._s(t.invoice.supplier_name))]),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Email")))]),t._v(" : "+t._s(t.invoice.supplier_email))]),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Phone")))]),t._v(" : "+t._s(t.invoice.supplier_phone))]),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Address")))]),t._v(" : "+t._s(t.invoice.supplier_adr))])]),t._v(" "),s("b-col",{staticClass:"mb-4",attrs:{lg:"4",md:"4",sm:"12"}},[s("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Customer_Info")))]),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Name")))]),t._v(" : "+t._s(t.invoice.customer_name))]),t._v(" "),null!==t.invoice.customer_email&&""!==t.invoice.customer_email?s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Email")))]),t._v(" : "+t._s(t.invoice.customer_email))]):t._e(),t._v(" "),s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Phone")))]),t._v(" : "+t._s(t.invoice.customer_phone))]),t._v(" "),null!==t.invoice.customer_adr&&""!==t.invoice.customer_adr?s("div",[s("span",{staticClass:"bold"},[t._v(t._s(t.$t("Address")))]),t._v(" : "+t._s(t.invoice.customer_adr))]):t._e()]),t._v(" "),s("b-col",{staticClass:"mb-4",attrs:{lg:"4",md:"4",sm:"12"}},[s("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Purchase_Info")))]),t._v(" "),s("div",[t._v(t._s(t.$t("Reference"))+" : "+t._s(t.invoice.ref))]),t._v(" "),s("div",[t._v(t._s(t.$t("Date"))+" : "+t._s(t.invoice.date))])])],1),t._v(" "),s("b-row",{staticClass:"mt-3"},[s("b-col",{attrs:{md:"12"}},[s("h5",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Order_Summary")))]),t._v(" "),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-hover table-md"},[s("thead",{staticClass:"bg-gray-500"},[s("tr",[s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("ProductName")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Details")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Unitcost")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Quantity")))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("SubTotal")))])])]),t._v(" "),s("tbody",t._l(t.details,(function(i){return s("tr",[s("td",[s("span",[t._v(t._s(i.name))]),t._v(" "),s("p",[t._v(t._s(t.$t("IMEI_SN"))+" : "+t._s(i.serial))])]),t._v(" "),s("td",[s("span",[t._v(t._s(i.description))])]),t._v(" "),s("td",[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(i.cost,2)))]),t._v(" "),s("td",[t._v(t._s(t.formatNumber(i.quantity,2)))]),t._v(" "),s("td",[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(i.total,2)))])])})),0)])])]),t._v(" "),s("div",{staticClass:"offset-md-9 col-md-3 mt-4"},[s("table",{staticClass:"table table-striped table-sm"},[s("tbody",[s("tr",[s("td",{staticClass:"bold"},[t._v(t._s(t.$t("OrderTax")))]),t._v(" "),s("td",[s("span",[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(t.invoice.TaxNet,2))+" ("+t._s(t.formatNumber(t.invoice.tax_rate,2))+" %)")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Total")))])]),t._v(" "),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.currentUser.currency)+" "+t._s(t.invoice.GrandTotal))])])])])])]),t._v(" "),s("b-col",[s("p",[s("strong",[t._v("Warranty")]),t._v(" : "+t._s(t.invoice.warranty))]),t._v(" "),s("p",[s("strong",[t._v("Expiry")]),t._v(" : "+t._s(t.invoice.warranty_expiry))])])],1)],1)])],1)],1)}),[],!1,null,null,null).exports}}]);